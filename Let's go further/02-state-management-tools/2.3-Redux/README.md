# 02-3. ì „ì—­ìƒíƒœê´€ë¦¬ - Redux

## ğŸ¯ ìš”êµ¬ì‚¬í•­
- Reduxë¥¼ ì‚¬ìš©í•´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì˜ Recoilë¡œë¶€í„°ì˜ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ í•´ë³´ì„¸ìš”.
- propsì— ëŒ€í•œ ìš”êµ¬ì‚¬í•­ì€ 2-1 ìš”êµ¬ì‚¬í•­ê³¼ ê°™ìŠµë‹ˆë‹¤.
- Reduxë¥¼ **ì™œ** ì‚¬ìš©í•˜ëŠ”ì§€, Recoilê³¼ ë¹„êµí–ˆì„ë•Œ ì–´ë–¤ ì ì´ ë‹¬ëëŠ”ì§€, ë˜ trade-offê°€ ìˆëŠ”ì§€ ì ì–´ì£¼ì„¸ìš”.
    - ê¸°ìˆ ì ì¸ ê²ƒë„ ì¢‹ê³  ê°œë°œìì˜ ê²½í—˜ ì¸¡ë©´ì—ì„œë„ ì¢‹ìŠµë‹ˆë‹¤.

### ğŸ˜—êµ¬í˜„ ì˜ˆì‹œ
- ì»´í¬ë„ŒíŠ¸ì˜ ì´ë¦„ì´ë‚˜ êµ¬ì¡°ëŠ” ë§ˆìŒëŒ€ë¡œ ë³€ê²½í•´ë„ ì¢‹ìŠµë‹ˆë‹¤.
```javascript
import { createStore } from 'redux'

/**
 * ì´ê²ƒì´ (state, action) => state í˜•íƒœì˜ ìˆœìˆ˜ í•¨ìˆ˜ì¸ ë¦¬ë“€ì„œì…ë‹ˆë‹¤.
 * ë¦¬ë“€ì„œëŠ” ì•¡ì…˜ì´ ì–´ë–»ê²Œ ìƒíƒœë¥¼ ë‹¤ìŒ ìƒíƒœë¡œ ë³€ê²½í•˜ëŠ”ì§€ ì„œìˆ í•©ë‹ˆë‹¤.
 *
 * ìƒíƒœì˜ ëª¨ì–‘ì€ ë‹¹ì‹  ë§ˆìŒëŒ€ë¡œì…ë‹ˆë‹¤: ê¸°ë³¸í˜•(primitive)ì¼ìˆ˜ë„, ë°°ì—´ì¼ìˆ˜ë„, ê°ì²´ì¼ìˆ˜ë„,
 * ì‹¬ì§€ì–´ Immutable.js ìë£Œêµ¬ì¡°ì¼ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.  ì˜¤ì§ ì¤‘ìš”í•œ ì ì€ ìƒíƒœ ê°ì²´ë¥¼ ë³€ê²½í•´ì„œëŠ” ì•ˆë˜ë©°,
 * ìƒíƒœê°€ ë°”ë€ë‹¤ë©´ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.
 *
 * ì´ ì˜ˆì œì—ì„œ ìš°ë¦¬ëŠ” `switch` êµ¬ë¬¸ê³¼ ë¬¸ìì—´ì„ ì¼ì§€ë§Œ,
 * ì—¬ëŸ¬ë¶„ì˜ í”„ë¡œì íŠ¸ì— ë§ê²Œ
 * (í•¨ìˆ˜ ë§µ ê°™ì€) ë‹¤ë¥¸ ì»¨ë²¤ì…˜ì„ ë”°ë¥´ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤.
 */
function counter(state = 0, action) {
  switch (action.type) {
    case 'INCREMENT':
      return state + 1
    case 'DECREMENT':
      return state - 1
    default:
      return state
  }
}

// ì•±ì˜ ìƒíƒœë¥¼ ë³´ê´€í•˜ëŠ” Redux ì €ì¥ì†Œë¥¼ ë§Œë“­ë‹ˆë‹¤.
// APIë¡œëŠ” { subscribe, dispatch, getState }ê°€ ìˆìŠµë‹ˆë‹¤.
let store = createStore(counter)

// subscribe()ë¥¼ ì´ìš©í•´ ìƒíƒœ ë³€í™”ì— ë”°ë¼ UIê°€ ë³€ê²½ë˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
// ë³´í†µì€ subscribe()ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ê¸°ë³´ë‹¤ëŠ” ë·° ë°”ì¸ë”© ë¼ì´ë¸ŒëŸ¬ë¦¬(ì˜ˆë¥¼ ë“¤ì–´ React Redux)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
// í•˜ì§€ë§Œ í˜„ì¬ ìƒíƒœë¥¼ localStorageì— ì˜ì†ì ìœ¼ë¡œ ì €ì¥í•  ë•Œë„ í¸ë¦¬í•©ë‹ˆë‹¤.

store.subscribe(() => console.log(store.getState())))

// ë‚´ë¶€ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ìœ ì¼í•œ ë°©ë²•ì€ ì•¡ì…˜ì„ ë³´ë‚´ëŠ” ê²ƒë¿ì…ë‹ˆë‹¤.
// ì•¡ì…˜ì€ ì§ë ¬í™”í• ìˆ˜ë„, ë¡œê¹…í• ìˆ˜ë„, ì €ì¥í• ìˆ˜ë„ ìˆìœ¼ë©° ë‚˜ì¤‘ì— ì¬ì‹¤í–‰í• ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
store.dispatch({ type: 'INCREMENT' })
// 1
store.dispatch({ type: 'INCREMENT' })
// 2
store.dispatch({ type: 'DECREMENT' })
// 1
```


## âœ… í‚¤ì›Œë“œ
- props drilling
- ì „ì—­ìƒíƒœê´€ë¦¬
    - Redux
    - store
    - Reducer
    - dispatch
    - useReducer
    - useDispatch

## ğŸ§™â€â™€ï¸ ì§„í–‰ ê°€ì´ë“œ
- ì§„í–‰ì‹œê°„ : 2ì‹œê°„ ë‚´ì— ì™„ë£Œí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

## ğŸ”— ì°¸ê³  ë¬¸ì„œ
- [Redux ê³µì‹ë¬¸ì„œ](https://ko.redux.js.org/introduction/getting-started/)
- [í…Œì½”í†¡(ì—í”„ì´ì˜ useReducer)](https://www.youtube.com/watch?v=xnlCNIpzQq0&list=PLgXGHBqgT2TvpJ_p9L_yZKPifgdBOzdVH&index=42)